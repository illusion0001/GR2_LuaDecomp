import("Replay")
dofile("/Game/Event2/Common/EventCommon.lua")
dofile("/Game/Misc/sdemo.lua")
function Initialize()
  local L0_0, L1_1
  L0_0 = Fn_pcSensorOff
  L1_1 = "pccubesensor2_01"
  L0_0(L1_1)
  L0_0 = Fn_pcSensorOff
  L1_1 = "pccubesensor2_02"
  L0_0(L1_1)
  L0_0 = Fn_pcSensorOff
  L1_1 = "pccubesensor2_03"
  L0_0(L1_1)
  L0_0 = Fn_vctrlOff
  L1_1 = "vctrl2_01"
  L0_0(L1_1)
  L0_0 = Fn_findNpcPuppet
  L1_1 = "sm99_wom01_01"
  L0_0 = L0_0(L1_1)
  L1_1 = findGameObject2
  L1_1 = L1_1("Node", "locator2_cam_pos_01")
  _sdemo = SDemo.create("test")
  _sdemo:set(L1_1, L0_0)
end
function Ingame()
  local L0_2, L1_3, L2_4, L3_5, L4_6
  L0_2 = Fn_missionStart
  L0_2()
  L0_2 = Fn_kaiwaDemoView
  L1_3 = "sm99_00100k"
  L0_2(L1_3)
  L0_2 = HUD
  L1_3 = L0_2
  L0_2 = L0_2.info
  L2_4 = "sm99_info_01"
  L0_2(L1_3, L2_4)
  L0_2 = Fn_missionViewWait
  L1_3 = "\227\130\173\227\131\163\227\131\169\227\129\174\229\136\182\229\190\161"
  L0_2(L1_3)
  L0_2 = Fn_captionViewWait
  L1_3 = "\227\130\173\227\131\163\227\131\169\227\129\174\229\136\182\229\190\161\227\129\175NPC\227\129\168\229\145\188\227\130\147\227\129\167\227\129\132\227\130\139\227\130\173\227\131\163\227\131\169\227\130\146\229\136\182\229\190\161\227\129\151\227\129\166\227\129\132\227\129\190\227\129\153\227\128\130"
  L0_2(L1_3)
  L0_2 = {L1_3, L2_4}
  L1_3 = "locator2_target_wom01_02"
  L2_4 = "locator2_target_wom01_01"
  L1_3 = Fn_moveNpc
  L2_4 = "sm99_wom01_01"
  L3_5 = L0_2
  L1_3 = L1_3(L2_4, L3_5)
  while true do
    L3_5 = L1_3
    L2_4 = L1_3.isRunning
    L2_4 = L2_4(L3_5)
    if L2_4 then
      L2_4 = wait
      L2_4()
    end
  end
  L1_3 = nil
  L2_4 = Fn_missionViewWait
  L3_5 = "\227\130\180\227\131\188\227\130\185\227\131\136"
  L2_4(L3_5)
  L2_4 = Fn_captionViewWait
  L3_5 = "\227\131\172\227\131\188\227\130\185\227\129\167\227\129\175\227\130\180\227\131\188\227\130\185\227\131\136\227\129\168\229\145\188\227\129\176\227\130\140\227\130\139"
  L2_4(L3_5)
  L2_4 = Fn_captionViewWait
  L3_5 = "\239\188\176\239\188\163\227\129\174\230\131\133\229\160\177\227\130\146\232\168\152\233\140\178\227\129\151\227\129\159\227\131\170\227\131\151\227\131\172\227\130\164\230\169\159\232\131\189\227\130\146\228\189\191\231\148\168\227\129\151\227\129\190\227\129\153"
  L2_4(L3_5)
  L2_4 = Fn_captionViewWait
  L3_5 = "\227\130\171\227\130\166\227\131\179\227\131\136\227\131\128\227\130\166\227\131\179\229\190\140\227\129\171\227\131\151\227\131\172\227\130\164\227\131\164\227\129\174\231\167\187\229\139\149\227\130\14610\231\167\146\233\150\147\232\168\152\233\140\178\227\129\151\227\129\190\227\129\153\227\129\174\227\129\167"
  L2_4(L3_5)
  L2_4 = Fn_captionViewWait
  L3_5 = "\229\165\189\227\129\141\227\129\171\231\167\187\229\139\149\227\129\151\227\129\166\227\129\191\227\129\166\227\129\143\227\129\160\227\129\149\227\129\132"
  L2_4(L3_5)
  L2_4 = Fn_countDownWithTimer
  L2_4()
  L2_4 = false
  L3_5 = invokeTask
  function L4_6()
    HUD:timerStart()
    while not L2_4 do
      wait()
    end
    HUD:timerStop()
  end
  L3_5(L4_6)
  L3_5 = Replay
  L4_6 = L3_5
  L3_5 = L3_5.setFileName
  L3_5(L4_6, "sm99_sample")
  L3_5 = Replay
  L4_6 = L3_5
  L3_5 = L3_5.recStart
  L3_5(L4_6)
  L3_5 = waitSeconds
  L4_6 = 10
  L3_5(L4_6)
  L2_4 = true
  L3_5 = Replay
  L4_6 = L3_5
  L3_5 = L3_5.recEnd
  L3_5(L4_6)
  L3_5 = Replay
  L4_6 = L3_5
  L3_5 = L3_5.recFileSave
  L3_5(L4_6)
  L3_5 = Replay
  L4_6 = L3_5
  L3_5 = L3_5.recFileClean
  L3_5(L4_6)
  L3_5 = HUD
  L4_6 = L3_5
  L3_5 = L3_5.timerSetVisible
  L3_5(L4_6, false)
  L3_5 = wait
  L3_5()
  L3_5 = Fn_captionViewWait
  L4_6 = "\227\129\147\227\130\140\227\129\139\227\130\137\229\134\141\231\148\159\227\129\151\227\129\190\227\129\153"
  L3_5(L4_6)
  L3_5 = Debug
  L4_6 = L3_5
  L3_5 = L3_5.setSwitch
  L3_5(L4_6, {
    "Display",
    "DebugDrawGroup",
    "Default"
  }, true)
  L3_5 = Replay
  L4_6 = L3_5
  L3_5 = L3_5.repFileLoad
  L3_5(L4_6)
  L3_5 = Replay
  L4_6 = L3_5
  L3_5 = L3_5.repStart
  L3_5(L4_6)
  L3_5 = Fn_findNpcPuppet
  L4_6 = "sm99_wom01_01"
  L3_5 = L3_5(L4_6)
  L4_6 = true
  invokeTask(function()
    local L0_7, L1_8
    L0_7, L1_8 = nil, nil
    while L4_6 do
      L0_7 = Replay:getGhostPos()
      L1_8 = Replay:getGhostRot()
      L3_5:setWorldTransform(L0_7, L1_8)
      L3_5:setForceMove()
      wait()
    end
    Fn_lookAtObject(L3_5, 1):abort()
  end)
  waitSeconds(10)
  L4_6 = false
  Replay:repEnd()
  Debug:setSwitch({
    "Display",
    "DebugDrawGroup",
    "Default"
  }, false)
  Fn_captionViewWait("\231\143\190\231\138\182\227\129\167\227\129\175\227\128\129\231\132\161\231\144\134\227\130\132\227\130\138NPC\227\129\171\229\186\167\230\168\153\227\130\146\230\184\161\227\129\151\227\129\166\227\129\132\227\129\190\227\129\153\227\129\140")
  Fn_captionViewWait("\227\131\135\227\131\144\227\131\131\227\130\176\232\161\168\231\164\186\227\129\167\229\135\186\227\129\166\227\129\132\227\130\139\227\130\173\227\131\163\227\131\169\227\129\174\227\130\136\227\129\134\227\129\171\229\139\149\227\129\141\227\129\190\227\129\153\227\128\130")
  Fn_captionViewWait("\227\129\147\227\129\147\227\129\175\227\131\151\227\131\173\227\130\176\227\131\169\227\131\160\229\175\190\229\191\156\229\190\133\227\129\161\227\129\168\227\129\170\227\129\163\227\129\166\227\129\132\227\129\190\227\129\153")
  Fn_missionViewWait("\227\131\138\227\131\147")
  Fn_captionViewWait("\227\131\138\227\131\147\227\129\175\227\128\129\227\130\136\227\129\143\228\189\191\227\129\134\230\169\159\232\131\189\227\129\171\227\129\170\227\130\139\227\129\168\230\128\157\227\129\132\227\129\190\227\129\153\227\128\130")
  Fn_captionViewWait("\227\131\138\227\131\147\227\129\174\229\175\190\232\177\161\227\129\175\227\130\178\227\131\188\227\131\160\227\130\170\227\131\150\227\130\184\227\130\167\227\130\175\227\131\136\227\129\170\227\130\137\229\159\186\230\156\172\231\154\132\227\129\171\227\129\169\227\130\140\227\129\167\227\130\130\229\164\167\228\184\136\229\164\171\227\129\167\227\129\153")
  Fn_captionViewWait("\227\130\181\227\131\179\227\131\151\227\131\171\227\129\167\227\129\175locator2\227\130\146\227\131\138\227\131\147\227\129\174\229\175\190\232\177\161\227\129\168\227\129\151\227\129\166\227\129\132\227\129\166")
  Fn_captionViewWait("pccubesensor2\227\129\171\229\133\165\227\130\139\227\129\168\230\172\161\227\129\174locator2\227\130\146\227\131\138\227\131\147\227\129\174\229\175\190\232\177\161\227\129\168\227\129\151\227\129\166\227\129\132\227\129\190\227\129\153\227\129\140")
  Fn_captionViewWait("pccubesensor2\227\130\146\227\131\138\227\131\147\227\129\174\229\175\190\232\177\161\227\129\168\227\129\153\227\130\139\227\129\147\227\129\168\227\130\130\229\143\175\232\131\189\227\129\167\227\129\153")
  Fn_captionViewWait("\239\188\147\227\129\139\230\137\128\227\131\138\227\131\147\227\130\146\227\130\187\227\131\131\227\131\136\227\129\151\227\129\166\227\129\132\227\130\139\227\129\174\227\129\167\227\128\129\227\131\138\227\131\147\227\129\171\229\190\147\227\129\163\227\129\166\231\167\187\229\139\149\227\129\151\227\129\166\227\129\143\227\129\160\227\129\149\227\129\132\227\128\130")
  Fn_pcSensorOn("pccubesensor2_01")
  Fn_naviSet(findGameObject2("Node", "locator2_navi_01"))
  navi_finish = false
  while not navi_finish do
    wait()
  end
  Fn_missionViewWait("\227\131\147\227\131\165\227\131\188\227\130\179\227\131\179\227\131\136\227\131\173\227\131\188\227\131\171")
  Fn_captionViewWait("maya\227\129\167\232\168\173\229\174\154\227\129\153\227\130\139\227\131\147\227\131\165\227\131\188\227\130\179\227\131\179\227\131\136\227\131\173\227\131\188\227\131\171\227\129\175\227\128\129\n\227\129\157\227\130\140\227\129\168\227\129\170\227\129\143\232\166\139\227\129\155\227\129\159\227\129\132\227\129\168\227\129\147\227\130\141\227\130\146\229\144\145\227\129\145\227\129\149\227\129\155\227\130\139\227\129\147\227\129\168\227\129\140\227\129\167\227\129\141\227\129\190\227\129\153\227\128\130")
  Fn_captionViewWait("\227\131\138\227\131\147\227\129\174\227\129\168\227\129\147\227\130\141\227\129\171\229\144\145\227\129\139\227\129\163\227\129\166\227\129\191\227\129\166\227\129\143\227\129\160\227\129\149\227\129\132\227\128\130")
  Fn_vctrlOn("vctrl2_01")
  Fn_naviSet(findGameObject2("Node", "locator2_navi_03"))
  vctrl_on_enter = false
  while not vctrl_on_enter do
    wait()
  end
  Fn_captionViewWait("\227\129\178\227\129\149\227\129\151\227\129\174\233\131\168\229\136\134\227\130\146\227\130\171\227\131\161\227\131\169\227\129\140\229\144\145\227\129\143\227\130\136\227\129\134\227\129\171\227\129\170\227\129\163\227\129\166\227\129\132\227\130\139\227\129\168\230\128\157\227\129\132\227\129\190\227\129\153")
  waitSeconds(3)
  Fn_naviKill()
  Fn_vctrlOff("vctrl2_01")
  Fn_missionViewWait("\227\130\185\227\130\175\227\131\170\227\131\151\227\131\136\227\131\135\227\131\162")
  Fn_captionViewWait("\227\130\185\227\130\175\227\131\170\227\131\151\227\131\136\227\131\135\227\131\162\227\129\175\227\128\129\227\131\160\227\131\188\227\131\147\227\131\188\227\131\135\227\131\162\227\129\171\227\129\175\227\129\153\227\130\139\229\191\133\232\166\129\227\129\140\227\129\170\227\129\132\227\128\130")
  Fn_captionViewWait("\227\129\190\227\129\159\227\129\175\227\128\129\229\164\137\230\155\180\233\160\187\229\186\166\227\129\140\229\164\154\227\129\143\227\129\166\227\131\160\227\131\188\227\131\147\227\131\188\227\131\135\227\131\162\227\129\171\227\129\153\227\130\139\227\129\147\227\129\168\227\129\140\227\129\167\227\129\141\227\129\170\227\129\132\230\153\130\227\129\171\229\174\159\232\163\133\227\129\151\227\129\159\227\130\138\227\129\151\227\129\190\227\129\153\227\128\130")
  _sdemo:play()
  Fn_warpNpc("sm99_wom01_01", "warppoint2_01")
  L1_3 = Fn_moveNpc("sm99_wom01_01", L0_2)
  while L1_3:isRunning() do
    wait()
  end
  L1_3 = nil
  waitSeconds(3)
  _sdemo:stop(0.2)
  Fn_captionViewWait("\227\129\147\227\129\174\227\130\185\227\130\175\227\131\170\227\131\151\227\131\136\229\134\133\227\129\174aim_node\227\129\168cam_node\227\130\146")
  Fn_captionViewWait("\228\187\187\230\132\143\227\130\170\227\131\150\227\130\184\227\130\167\227\130\175\227\131\136\227\129\171appendChild\227\129\153\227\130\139\227\129\147\227\129\168\227\129\167")
  Fn_captionViewWait("\229\159\186\230\156\172\231\154\132\227\129\171\227\129\175\229\136\182\229\190\161\229\143\175\232\131\189\227\129\167\227\129\153\227\128\130")
  Fn_kaiwaDemoView("sm99_00200k")
  Fn_setKeepPlayerPos()
  Fn_setNextMissionFlag()
  Fn_nextMission()
  Fn_exitSandbox()
end
function Finalize()
  local L0_9, L1_10
end
function pccubesensor2_01_OnEnter()
  Fn_pcSensorOff("pccubesensor2_01")
  Fn_pcSensorOn("pccubesensor2_02")
  Fn_naviSet(findGameObject2("Node", "locator2_navi_02"))
end
function pccubesensor2_02_OnEnter()
  Fn_pcSensorOff("pccubesensor2_02")
  Fn_pcSensorOn("pccubesensor2_03")
  Fn_naviSet(findGameObject2("Node", "pccubesensor2_03"))
end
function pccubesensor2_03_OnEnter()
  Fn_pcSensorOff("pccubesensor2_03")
  Fn_naviKill()
  navi_finish = true
end
function vctrl2_01_OnEnter()
  local L0_11, L1_12
  vctrl_on_enter = true
end
